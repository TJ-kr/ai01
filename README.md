# Locolor 자동 견적 시스템

구글 폼을 통해 접수된 견적 문의를 자동으로 처리하고 이메일을 발송하는 시스템입니다.

## 기능

- 구글 폼 응답 자동 처리
- 제품별 맞춤 견적 계산
- 자동 이메일 발송
- 관리자 알림 시스템
- 응답 로그 기록

## 설정 방법

1. Google Apps Script 프로젝트 생성
   - [Google Apps Script](https://script.google.com) 접속
   - 새 프로젝트 생성
   - `Code.gs`와 `EmailTemplate.html` 파일 생성 후 코드 복사

2. 구글 폼 연동
   - 구글 폼에서 스크립트 편집기 열기
   - 트리거 설정: `onFormSubmit` 함수를 폼 제출 시 실행되도록 설정

3. 스프레드시트 연동
   - 구글 폼의 응답을 저장할 스프레드시트 생성
   - 스프레드시트에 'Logs' 시트 생성 (자동 생성됨)

4. Gmail API 설정
   - Gmail API 사용 설정
   - 발신자 이메일 설정 (Gmail 설정에서 별칭 추가)

## 주의사항

- 이메일 템플릿의 로고 URL을 실제 로고 이미지 URL로 변경해야 합니다.
- 이메일 템플릿의 전화번호를 실제 연락처로 변경해야 합니다.
- 제품 가격 정보는 `Code.gs` 파일의 `PRODUCT_PRICES` 상수에서 관리됩니다.

## 관리자 설정

- 관리자 이메일: locolorinc@gmail.com
- 발신 이메일: product@locolor.kr (Gmail 별칭)

## 로그 확인

응답 로그는 연동된 스프레드시트의 'Logs' 시트에서 확인할 수 있습니다.
로그에는 다음 정보가 기록됩니다:
- 응답 시간
- 고객 이름
- 이메일
- 연락처
- 제품 정보
- 수량
- 견적가

## 시스템 구성

### 구글 폼

- 폼 ID: 1FAIpQLSdwAvawsCJOghec_8vgGi0F0ul0m_9LblvtPqcCZ7xaxb2Nsw
- 수집 항목:
  - 이메일
  - 견적 희망 제품
  - 수량
  - 개인정보 동의

### 스프레드시트

- 시트 ID: 1-Q0L3cxDubrkYKxYAAc_FZgEfhkYbHHjowSsuQMjGK4
- 시트 구성:
  - 메인 시트: 폼 응답 데이터
  - 로그 시트: 처리 로그

### 이메일 발송

- 발신자: product@locolor.kr
- 관리자: locolorinc@gmail.com
- 발송 시스템: Gmail (향후 네이버웍스로 전환 예정)

## 제품별 견적 기준

### 인형
- 최소 수량: 500개
- 기준 수량: 2000개
- 가격 범위:
  - 500개 기준: 6,596,000원
  - 2000개 기준: 20,424,000원

### 인형키링
- 최소 수량: 500개
- 최소 가격: 4,600,000원 (500개 기준)
- 최대 가격: 미정

### 금속뱃지
- 최소 수량: 500개
- 기준 수량: 2000개
- 가격 범위:
  - 500개 기준: 1,515,000원
  - 2000개 기준: 12,818,000원

### 마그넷
- 최소 수량: 350개
- 기준 수량: 6000개
- 가격 범위:
  - 350개 기준: 1,988,844원
  - 6000개 기준: 2,610,000원

### 스티커
- 최소 수량: 500개
- 기준 수량: 2000개
- 가격 범위:
  - 500개 기준: 미정
  - 2000개 기준: 1,320,000원

### 차량번호판
- 최소 수량: 500개
- 기준 수량: 1500개
- 가격 범위:
  - 500개 기준: 3,190,000원
  - 1500개 기준: 3,300,000원

## 견적 계산 방식

1. 단가 범위 계산
   - 최소 단가: 기준 수량의 개당 가격
   - 최대 단가: 최소 수량의 개당 가격

2. 견적 범위 계산
   - 총액: 요청 수량 × 단가 범위
   - 최소 수량 미만 주문 시 최소 수량 기준으로 계산

## 향후 계획

1. 제품 정보 완성
   - 인형키링 최대 가격 정보 추가
   - 스티커 최소 가격 정보 추가

2. 로그 시스템 구축
   - 견적 요청 시간
   - 고객 정보
   - 처리 결과
   - 통계 데이터

3. 관리자 알림 시스템
   - 대량 주문 알림
   - 오류 발생 알림
   - 통계 리포트

4. 네이버웍스 전환 (3-6개월 후)
   - API 연동
   - 단계적 전환

## 설치 및 설정

1. Google Apps Script 프로젝트 생성
2. `Code.gs` 파일 내용을 프로젝트에 복사
3. 스프레드시트 ID 설정
4. 트리거 설정: 폼 제출 시 `onFormSubmit` 함수 실행

## 주의사항

- 실제 견적은 상담 후 확정됩니다.
- 수량과 옵션에 따라 견적이 변동될 수 있습니다.
- Gmail 일일 발송 한도를 고려해야 합니다.